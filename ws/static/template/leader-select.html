<ui-select multiple data-ng-model="selected.leaders" data-theme="bootstrap" data-ng-disabled="disabled">
  <ui-select-match placeholder="Select person...">
  <span data-ng-class="{'invalid-leader': !$item.canLead}" data-ng-bind="$item.name"
    data-uib-tooltip="{{ $item.name }} can't lead trips under this program"
    data-tooltip-enable="{{ !$item.canLead }}"
    data-tooltip-placement="bottom">
    </span>
  </ui-select-match>
  <ui-select-choices data-repeat="person in programLeaders | propsFilter: {name: $select.search}">
    <span data-ng-bind-html="person.name | highlight: $select.search"></span>
    <span data-ng-if="programRatings[person.id]">
      (<span data-ng-bind-html="''+ programRatings[person.id] | highlight: $select.search"></span>)
    </span>
  </ui-select-choices>
</ui-select>

<input type="hidden"
       data-ng-attr-name="{{ name }}"
       data-ng-repeat="person in selected.leaders"
       value="{{ person.id }}">
</input>
